<? namespace Bitrix\Main;$GLOBALS['____1068327009']= array(base64_decode(''.'ZmlsZV9leGlzdH'.'M='),base64_decode('c3Ryd'.'G91cHB'.'lc'.'g=='),base64_decode('bWQ1'),base64_decode('bWQ'.'1'),base64_decode('a'.'W5fYXJ'.'yYX'.'k='),base64_decode('aW5fYXJyY'.'Xk='),base64_decode(''.'aW5fY'.'XJ'.'yYXk='),base64_decode('ZGV'.'maW5lZ'.'A'.'=='),base64_decode('ZGVmaW5lZA=='),base64_decode(''.'ZG'.'VmaW'.'5lZA=='),base64_decode('ZmlsZV9leGlz'.'dHM='),base64_decode('Zml'.'s'.'ZV9leGlzdH'.'M='),base64_decode(''.'ZmlsZ'.'V9leGlzd'.'H'.'M'.'='),base64_decode('Zmls'.'ZV9leGlzdHM='),base64_decode(''.'ZXhw'.'bG9k'.'Z'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___1687734126')){function ___1687734126($_207044789){static $_1945074623= false; if($_1945074623 == false) $_1945074623=array('L2'.'JpdHJpeC9saWNlbnNl'.'X2t'.'leS5waHA=','','','RE'.'VN'.'Tw'.'==','REVN'.'T'.'w='.'=','Q'.'klUU'.'klY','TElDR'.'U5'.'DRQ==','RE'.'VNT'.'w==',''.'L2tleV91cGRh'.'dGU'.'ucGhwP2xpY2Vu'.'c2'.'Vfa2V5PQ==','J'.'nR'.'vYmFza2'.'V0P'.'X'.'k'.'mbGFuZz0=','cnU'.'=',''.'a3o=','Ynk=',''.'aHR0cHM6Ly9kZXYuMWMtY'.'ml0cml4LnJ1L2x'.'lY'.'XJuaW5nL2Nvd'.'XJzZS9pbm'.'RleC5'.'waHA/Q'.'09VUlNFX'.'0lE'.'PT'.'EzNSZ'.'MRVN'.'T'.'T05f'.'SUQ9M'.'jU3'.'MjA'.'=','aHR0cHM6Ly90cmF'.'pb'.'mluZ'.'y5i'.'aXRyaXgyNC5jb20'.'vc3Vw'.'cG9yd'.'C90cm'.'FpbmluZy9jb3Vyc2UvaW5kZ'.'XgucGhwP0N'.'PVVJTRV9JRD0xNzg'.'mTEVTU09OX0l'.'EPT'.'I1'.'OTMyJkx'.'FU'.'1NPTl9QQV'.'RIPTE3NTIw'.'LjE3NT'.'YyLjI'.'1O'.'TMwLj'.'I'.'1OTMy',''.'cn'.'U=',''.'Ynk=','a3o=','ZGU=','ZXU'.'=','ZnI=','cGw=','aXQ=','dW'.'s=','ZXU'.'=',''.'Y2'.'9t',''.'ZW4=','REV'.'NTw==','WQ==','VElN'.'RUxJTUlUX0'.'VESVR'.'JT04'.'=',''.'WQ==','RU5DT0R'.'F','WQ='.'=','U2l0ZUV4cG'.'lyZURhdGU=','b'.'WF'.'pbg'.'==',''.'fnN1'.'cHBvc'.'nRf'.'Z'.'mlu'.'aX'.'No'.'X2R'.'h'.'dGU=','WS1tLWQ=',''.'WS1tLW'.'Q=',''.'Yml0cml'.'4M'.'jQ=',''.'bW'.'Fpbg'.'==','fl'.'BB'.'UkFNX0NM'.'SUVO'.'VF'.'9MQ'.'U5H','aW5'.'0cmF'.'u'.'ZX'.'Q=','Z'.'W4=','cnU=','b'.'WFpb'.'g='.'=','d'.'mVuZG9'.'y','dWF'.'fYml'.'0cml4X3BvcnRh'.'bA='.'=',''.'dW'.'E=','Yml0cml4X3B'.'vcn'.'RhbA==',''.'ZW'.'4=','MWNf'.'Yml0cml4'.'X3BvcnRh'.'b'.'A==','cnU'.'=','L2JpdH'.'JpeC9t'.'b2R1bG'.'VzL21h'.'a'.'W4'.'vbG'.'FuZy91YQ==','dWE=','L2Jp'.'dHJpeC9tb'.'2R'.'1bGVzL21haW4vbGF'.'uZy'.'9ieQ'.'==','Ynk=','L2J'.'p'.'d'.'HJp'.'e'.'C9tb2R1bGV'.'zL'.'21'.'ha'.'W4vbGFuZy'.'9reg'.'==','a3o=','L2JpdH'.'JpeC9tb2R'.'1bGVzL21h'.'aW4vbGF'.'uZy9ydQ==','cnU=','bWF'.'pb'.'g'.'==','flB'.'BUkFN'.'X1B'.'BUl'.'RORVJfS'.'UQ=','bWFpbg==','UEFSQU'.'1fTUF'.'YX1VTR'.'VJT','bWFpbg==','f'.'kNPV'.'U5UX0VYV'.'FJB','Tg==','WQ'.'==','ZXh0c'.'mF'.'uZXQ=',''.'QU5EIFUuTE'.'FTVF9M'.'T0dJTiA+I'.'A='.'=','QU5EIF'.'U'.'u'.'TEFTVF9MT0dJTi'.'BJ'.'U'.'y'.'BOT1QgTlVMTA'.'==','a'.'W50cmF'.'uZXQ=','Z'.'X'.'h0cmFuZXQ=','ZXh0cmFuZXRf'.'Z3Jv'.'dX'.'A=','bW'.'Fpbg==','f'.'mxpY2'.'Vuc'.'2V'.'fbmFt'.'ZQ'.'==','bW'.'Fpbg==',''.'fm'.'xpY2Vuc2'.'V'.'fY29kZXM'.'=','','LA==');return base64_decode($_1945074623[$_207044789]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_951785286= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_951785286 === null){ $_1250971243= Loader::getDocumentRoot(). ___1687734126(0); $LICENSE_KEY= ___1687734126(1); if($GLOBALS['____1068327009'][0]($_1250971243)){ include($_1250971243);} $this->_951785286=($LICENSE_KEY == ___1687734126(2) || $GLOBALS['____1068327009'][1]($LICENSE_KEY) == ___1687734126(3)? ___1687734126(4): $LICENSE_KEY);} return $this->_951785286;} public function getHashLicenseKey(): string{ return $GLOBALS['____1068327009'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1068327009'][3](___1687734126(5). $this->getKey(). ___1687734126(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1687734126(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1687734126(8). $this->getHashLicenseKey(). ___1687734126(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_240110033= $this->getRegion(); if($GLOBALS['____1068327009'][4]($_240110033,[___1687734126(10), ___1687734126(11), ___1687734126(12)])){ return ___1687734126(13);} return ___1687734126(14);} public function getRenewalLink(): string{ $_240110033= $this->getRegion(); if($GLOBALS['____1068327009'][5]($_240110033,[___1687734126(15), ___1687734126(16), ___1687734126(17), ___1687734126(18)])){ return self::URL_RENEWAL_LICENSE[$_240110033];} if($GLOBALS['____1068327009'][6]($_240110033,[___1687734126(19), ___1687734126(20), ___1687734126(21), ___1687734126(22), ___1687734126(23)])){ return self::URL_RENEWAL_LICENSE[___1687734126(24)];} return self::URL_RENEWAL_LICENSE[___1687734126(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1687734126(26)];} public function isDemo(): bool{ return $GLOBALS['____1068327009'][7](___1687734126(27)) && DEMO === ___1687734126(28);} public function isTimeBound(): bool{ return $GLOBALS['____1068327009'][8](___1687734126(29)) && TIMELIMIT_EDITION === ___1687734126(30);} public function isEncoded(): bool{ return $GLOBALS['____1068327009'][9](___1687734126(31)) && ENCODE === ___1687734126(32);} public function getExpireDate():?Date{ $_958938783= (int)($GLOBALS[___1687734126(33)] ??(166*2-332)); if($_958938783>(1072/2-536)){ return Date::createFromTimestamp($_958938783);} return null;} public function getSupportExpireDate():?Date{ $_958938783= Option::get(___1687734126(34), ___1687734126(35)); if(Date::isCorrect($_958938783, ___1687734126(36))){ return new Date($_958938783, ___1687734126(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1687734126(38))){ return \CBitrix24::getPortalZone();} $_240110033= Option::get(___1687734126(39), ___1687734126(40)); if(!empty($_240110033)){ return $_240110033;} $_240110033= $this->__411550318(); if(!empty($_240110033)){ return $_240110033;} return $this->__1890013020();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1687734126(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1687734126(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1687734126(43)];} private function __411550318():?string{ $_856070020= Option::get(___1687734126(44), ___1687734126(45)); if($_856070020 === ___1687734126(46)){ return ___1687734126(47);} if($_856070020 === ___1687734126(48)){ return ___1687734126(49);} if($_856070020 === ___1687734126(50)){ return ___1687734126(51);} return null;} private function __1890013020():?string{ $_733507451= Application::getDocumentRoot(); if($GLOBALS['____1068327009'][10]($_733507451. ___1687734126(52))){ return ___1687734126(53);} if($GLOBALS['____1068327009'][11]($_733507451. ___1687734126(54))){ return ___1687734126(55);} if($GLOBALS['____1068327009'][12]($_733507451. ___1687734126(56))){ return ___1687734126(57);} if($GLOBALS['____1068327009'][13]($_733507451. ___1687734126(58))){ return ___1687734126(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1687734126(60), ___1687734126(61),(218*2-436));} public function getMaxUsers(): int{ return (int)Option::get(___1687734126(62), ___1687734126(63),(800-2*400));} public function isExtraCountable(): bool{ return Option::get(___1687734126(64), ___1687734126(65), ___1687734126(66)) === ___1687734126(67) && ModuleManager::isModuleInstalled(___1687734126(68));} public function getActiveUsersCount(Date $_786704551= null): int{ $_93619947= Application::getConnection(); $_866338107=(1436/2-718); if($_786704551 !== null){  $_186821510= ___1687734126(69).$_93619947->getSqlHelper()->convertToDbDate($_786704551);} else{  $_186821510= ___1687734126(70);} if(ModuleManager::isModuleInstalled(___1687734126(71))){ $_290393590="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_186821510}
			"; $_866338107= (int)$_93619947->queryScalar($_290393590); $_145800555= (int)Option::get(___1687734126(72), ___1687734126(73)); if($_145800555>(1496/2-748) && $this->isExtraCountable()){ $_290393590="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_145800555}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_186821510}
							AND D.VALUE_ID IS NULL
					"; $_866338107 += (int)$_93619947->queryScalar($_290393590);}} return $_866338107;}  public function getName(): string{ return Option::get(___1687734126(74), ___1687734126(75));}  public function getCodes(): array{ $_744665943= Option::get(___1687734126(76), ___1687734126(77)); if($_744665943 != ___1687734126(78)){ return $GLOBALS['____1068327009'][14](___1687734126(79), $_744665943);} return[];}}?>